<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
      <title>Running Unit Tests on .NET nanoFramework | .NET nanoFramework Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Running Unit Tests on .NET nanoFramework | .NET nanoFramework Documentation ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../../x-cross/toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/nanoframework/nanoframework.github.io/blob/pages-source/content/unit-test/running-tests.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="running-unit-tests-on-net-nanoframework">Running Unit Tests on .NET <strong>nanoFramework</strong></h1>

<p>You first need to setup your .NET <strong>nanoFramework</strong> Unit Test project. For this, you have 2 options, either you create a <code>NFUnitTest</code> project from Visual Studio, either you add a the nanoFramework.TestFramework NuGet to your class library project.</p>
<h2 id="setting-up-through-visual-studio-project-template">Setting up through Visual Studio project template</h2>
<p>You can as well simply create a new Visual Studio NFUnitTest project that will already contains all the needed elements.</p>
<p><img src="../../images/test-project-template.png" alt="test VS project"></p>
<h3 id="setting-up-unit-test-through-nuget">Setting up Unit Test through NuGet</h3>
<p>The .NET <strong>nanoFramework</strong> Unit Test platform is available thru a NuGet and comes with all the needed element. The only thing you need to do it to add it to your .NET <strong>nanoFramework</strong> project:</p>
<p><img src="../../images/test-nuget-test-framework.jpg" alt="add test NuGet"></p>
<p>Make sure you have in the main directory of your sln file or in the same directory as your nfproj a <code>.runsettings</code> and the minium elements you need are:</p>
<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RunSettings&gt;
   &lt;!-- Configurations that affect the Test Framework --&gt;
   &lt;RunConfiguration&gt;
       &lt;MaxCpuCount&gt;1&lt;/MaxCpuCount&gt;
       &lt;ResultsDirectory&gt;.\TestResults&lt;/ResultsDirectory&gt;&lt;!-- Path relative to solution directory --&gt;
       &lt;TestSessionTimeout&gt;120000&lt;/TestSessionTimeout&gt;&lt;!-- Milliseconds --&gt;
       &lt;TargetFrameworkVersion&gt;Framework40&lt;/TargetFrameworkVersion&gt;
   &lt;/RunConfiguration&gt;
   &lt;nanoFrameworkAdapter&gt;
    &lt;Logging&gt;None&lt;/Logging&gt;
    &lt;IsRealHardware&gt;False&lt;/IsRealHardware&gt;
   &lt;/nanoFrameworkAdapter&gt;
&lt;/RunSettings&gt;
</code></pre>
<p>The most important part is the <code>&lt;TargetFrameworkVersion&gt;Framework40&lt;/TargetFrameworkVersion&gt;</code> as this is what trigger the discovery of the tests.</p>
<h2 id="discover-the-tests">Discover the tests</h2>
<p>Once you'll build your project, the tests will be discovered automatically:</p>
<p><img src="../../images/test-discovered.jpg" alt="test discover"></p>
<p>This is automatic and you just need to build. If any issue, you can try the <code>Rebuild</code> option, it will force a rediscovery of the tests.</p>
<h2 id="running-the-tests-on-a-real-hardware">Running the tests on a real hardware</h2>
<p>You'll have to adjust the <code>.runsettings</code> file entry <code>IsRealHardware</code> to true:</p>
<pre><code class="lang-xml">&lt;IsRealHardware&gt;True&lt;/IsRealHardware&gt;
</code></pre>
<p>Once you'll run the rests, they will be deployed into the device attached to your machine.</p>
<h2 id="running-the-tests">Running the tests</h2>
<p>Simply press the play button for all the tests or just the test you want to run. In case of success, you'll see something like this:</p>
<p><img src="../../images/test-success.jpg" alt="test success"></p>
<p>In case one of your test will fail, you'll see this:</p>
<p><img src="../../images/test-failed.jpg" alt="test failed"></p>
<p>Some tests may be skipped, they will appear like this:</p>
<p><img src="../../images/test-skipped.jpg" alt="test skipped"></p>
<h2 id="test-coverage-and-code-highlighting">Test coverage and code highlighting</h2>
<p>As you can expect in your code, you'll get the covered tests on the tests methods but as well on the methods that have been called:</p>
<p><img src="../../images/test-code-highlight.jpg" alt="test highlight"></p>
<p>In case of failure, you'll get the same:</p>
<p><img src="../../images/test-integration-vs-failed.jpg" alt="test failed"></p>
<h2 id="running-the-tests-in-a-pipeline">Running the tests in a pipeline</h2>
<p>The tests can be run in a pipeline using <code>vstest.Console.exe</code>. The adapter to use is <code>nanoFramework.TestAdapter.dll</code>. You'll find all this into the NuGet package.</p>
<h2 id="updating-the-nuget">Updating the NuGet</h2>
<p>When you are updating the NuGet if you've done changes into your <code>.runsettings</code> file, you will be prompt to replace the file, depending on the choices you have done, you may want to save your choices and merge them into the new file. We do recommend to use the new file and adjust it.</p>
<p><img src="../../images/test-replace-runsettings.jpg" alt="replace NuGet"></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/nanoframework/nanoframework.github.io/blob/pages-source/content/unit-test/running-tests.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
